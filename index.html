<!DOCTYPE html>
<html>
<head>
    <title>FT boiler-frame</title>
    <link rel="stylesheet" href="assets/styles.css"/>
    <link rel="stylesheet" href="assets/origami-fonts.css" />
    <script src="assets/d3.v4.js"></script>
    <script src="assets/g-chartframe.js"></script>
    <script src="assets/g-chartcolour.js"></script>
    <style>
    /*custom CSS here/*
    </style>
</head>
<body>

</body>
<script type="text/javascript">

d3.csv("data.csv",function(data){

    /*specify the frame type you require;
        .webFrameS
        .webFrameM
        .webFrameL
        .printFrame - note the height/width is mm
        .socialFrame
        .videoFrame
    */
    const frameConfig = {
        chartType:'webFrameM',
        title:'Lorem ipsum dolor sit amet, consectetur',
        subtitle:'Vestibulum tincidunt arcu nibh',
        source:'Nunc ac leo urna',
        height:500,
        //width:170.8,//comment the width out for web frames
        //margin:{top:20,left:20,right:20,bottom:20}//over-ride default margins
    }

    //create chart frame
    const svg = d3.select("body").append("svg")
    const chartFrame = createFrame(frameConfig.chartType)
    svg.call(chartFrame);

    //basic colour palettes
    const sequentialColors = gChartcolour.sequentialMulti
    const divergingColors = gChartcolour.diverging;
    const lineColors = getLineColors(frameConfig.chartType)
    const barColors = getBarColors(frameConfig.chartType)

    //plot dimensions
    const plot = chartFrame.plot();
    const w = chartFrame.dimension().width;
    const h = chartFrame.dimension().height;

    /////////YOUR CUSTOM VIZ CODE HERE//////////

    ///////check your data///////
    data.forEach(function(d){
        const parseDate = d3.timeParse("%Y")
        d.date = parseDate(d.date);
        d.potatoes = +d.potatoes;
    })
    console.log(data)//

    //////draw your stuff////////
    plot.append("circle")
        .attr("r",w/4)
        .attr("cx",w/2)
        .attr("cy",h/2)
        .attr("fill",lineColors[0])
    plot.append("line")
        .attr("x1",w*0.25)
        .attr("x2",w*0.75)
        .attr("y1",h/2)
        .attr("y2",h/2)
        .attr("class","lines")
        .attr("stroke",lineColors[1])
    plot.append("text")
        .attr("x",w*0.5)
        .attr("y",h*0.5)
        .attr("font-size","14px")
        .attr("class","xAxis")
        .text("This is my text")


    //END OF YOUR CUSTOM VIZ CODE



    function createFrame(chartType){
        let frame;
        switch(frameConfig.chartType) {
            case "socialFrame":
                frame = gChartframe.socialFrame(frameConfig);
                break;
            case "printFrame":
                frame = gChartframe.printFrame(frameConfig);
                break;
            case "webFrameS":
                frame = gChartframe.webFrameS(frameConfig);
                break;
            case "webFrameM":
                frame = gChartframe.webFrameM(frameConfig);
                break;
            case "webFrameL":
                frame = gChartframe.webFrameL(frameConfig);
                break;
            case "videoFrame":
                frame = gChartframe.videoFrame(frameConfig);
                break;
        }
        return frame;
    }

    function getLineColors(chartType){
        let colors;
        switch(frameConfig.chartType) {
            case "socialFrame":
                colors = gChartcolour.lineSocial;
                break;
            case "printFrame":
                colors = gChartcolour.linePrint;
                break;
            case "videoFrame":
                colors = gChartcolour.lineSocial;
                break;
            default:
                colors = gChartcolour.categorical_line;
        }
        return colors;
    }

    function getBarColors(chartType){
        let colors;
        switch(frameConfig.chartType) {
            case "socialFrame":
                colors = gChartcolour.lineSocial;
                break;
            case "printFrame":
                colors = gChartcolour.linePrint;
                break;
            case "videoFrame":
                colors = gChartcolour.lineSocial;
                break;
            default:
                colors = gChartcolour.categorical_bar;
        }
        return colors;
    }

})
</script>
</html>
